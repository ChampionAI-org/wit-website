@tailwind base;
@tailwind components;
@tailwind utilities;

/* Animated Gradient Background System */

/* Default (light) palette vars */
:root {
  --ag-bg-1: #f6f9ff; /* snowy white */
  --ag-bg-2: #e6f0ff; /* cold blue */
  --ag-bg-3: #dfe9ff; /* mist */
  --ag-band-1: rgba(146, 176, 222, 0.35);
  --ag-band-2: rgba(60, 120, 200, 0.22);
  --ag-band-3: rgba(180, 205, 245, 0.28);
  --ag-glare: rgba(255, 255, 255, 0.55);
  --ag-sparkle: rgba(255, 255, 255, 0.8);
}

/* Dark palette vars */
@media (prefers-color-scheme: dark) {
  :root {
    --ag-bg-1: #06080b; /* near-black blue */
    --ag-bg-2: #0b1016; /* deep slate */
    --ag-bg-3: #0f141c; /* midnight */
    --ag-band-1: rgba(73, 120, 180, 0.32);
    --ag-band-2: rgba(40, 80, 130, 0.24);
    --ag-band-3: rgba(110, 160, 220, 0.18);
    --ag-glare: rgba(200, 220, 255, 0.16);
    --ag-sparkle: rgba(220, 235, 255, 0.75);
  }
}

/* Keyframes */
@keyframes ag-pan {
  0% { transform: translate3d(-10%, -10%, 0) scale(1.05); }
  50% { transform: translate3d(8%, 6%, 0) scale(1.05); }
  100% { transform: translate3d(-10%, -10%, 0) scale(1.05); }
}

@keyframes ag-waves {
  0% { transform: translateX(-20%) skewX(-12deg); }
  50% { transform: translateX(10%) skewX(-12deg); }
  100% { transform: translateX(-20%) skewX(-12deg); }
}

@keyframes ag-glare-sweep {
  0% { transform: translateX(-120%) rotate(20deg); opacity: 0.0; }
  25% { opacity: 0.55; }
  50% { opacity: 0.2; }
  100% { transform: translateX(120%) rotate(20deg); opacity: 0.0; }
}

@keyframes ag-sparkles {
  0%, 100% { opacity: 0.25; filter: blur(0.8px); }
  50% { opacity: 0.5; filter: blur(1.2px); }
}

/* Layers */
.ag-container {
  position: fixed;
  inset: 0;
  z-index: -1; /* behind all content */
  overflow: hidden;
  pointer-events: none;
}

.ag-layer { position: absolute; inset: 0; }

.ag-gradient {
  background: radial-gradient(1200px 800px at 15% 20%, var(--ag-bg-2), transparent 60%),
              radial-gradient(1600px 900px at 85% 20%, var(--ag-bg-3), transparent 66%),
              linear-gradient(130deg, var(--ag-bg-1) 0%, var(--ag-bg-2) 40%, var(--ag-bg-3) 100%);
  animation: ag-pan 26s ease-in-out infinite;
  will-change: transform;
}

.ag-bands::before,
.ag-bands::after {
  content: "";
  position: absolute;
  inset: -20% -20% -20% -20%;
  background:
    linear-gradient(105deg, transparent 40%, var(--ag-band-1) 48%, transparent 56%),
    linear-gradient(105deg, transparent 52%, var(--ag-band-2) 58%, transparent 64%),
    linear-gradient(105deg, transparent 64%, var(--ag-band-3) 70%, transparent 76%);
  filter: blur(8px) saturate(1.2);
  mix-blend-mode: overlay;
  animation: ag-waves 32s cubic-bezier(0.22, 1, 0.36, 1) infinite;
}

.ag-glare {
  overflow: hidden;
}
.ag-glare::before {
  content: "";
  position: absolute;
  top: -20%;
  bottom: -20%;
  width: 35%;
  left: -40%;
  background: linear-gradient(90deg, transparent, var(--ag-glare), transparent);
  filter: blur(8px);
  transform: translateX(-120%) rotate(20deg);
  animation: ag-glare-sweep 18s linear infinite;
  mix-blend-mode: screen;
}

.ag-sparkles {
  background-image: radial-gradient(2px 2px at 10% 20%, var(--ag-sparkle) 50%, transparent 52%),
                    radial-gradient(1.5px 1.5px at 28% 72%, var(--ag-sparkle) 50%, transparent 52%),
                    radial-gradient(1.6px 1.6px at 72% 36%, var(--ag-sparkle) 50%, transparent 52%),
                    radial-gradient(1.2px 1.2px at 85% 60%, var(--ag-sparkle) 50%, transparent 52%),
                    radial-gradient(1.8px 1.8px at 42% 12%, var(--ag-sparkle) 50%, transparent 52%);
  background-repeat: no-repeat;
  background-size: auto;
  animation: ag-sparkles 6s ease-in-out infinite;
  mix-blend-mode: screen;
  opacity: .35;
}

